@using Okapia.Domain.ViewModels
@{
  var auth = ViewData["Auth"] as AccountViewModel;
}

<div id="wrapper">
  <!-- Top Bar Start -->
  <div class="topbar">
    <!-- LOGO -->
    <div class="topbar-left">
      <div class="text-center">
        <a href="/Job/Home/Index" class="logo">
          <i class="md md-terrain"></i> <span> @auth?.Username عزیز به اُکاپیا خوش آمدید </span>
        </a>
      </div>
    </div>
    <div class="topbar-left pull-right">
      <div class="text-center">
      </div>
    </div>
    <!-- Button mobile view to collapse sidebar menu -->
    <div class="navbar navbar-default" role="navigation">
    </div>
  </div>
  <!-- Top Bar End -->
  <!-- ========== Left Sidebar Start ========== -->
  <div class="left side-menu">
    <div class="sidebar-inner slimscrollleft">
      <div class="user-details">
        <div class="user-info">
          <div class="dropdown">
            <a asp-action="Index" asp-controller="Home" asp-area="Job" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
              @auth?.Username
            </a>
          </div>

          <p class="text-muted m-0">کاربر محترم اُکاپیا</p>
        </div>
      </div>
      <!--- Divider -->
      <div id="sidebar-menu">
        <ul>
          <li>
            <a asp-action="Index" asp-controller="Home" asp-area="Job">
              <i class="fa fa-home"></i><span> صفحه اصلی </span>
            </a>
          </li>
          <li>
            <a asp-action="Create" asp-controller="Introduce" asp-area="Job" class="waves-effect">
              <i class="fa fa-user-plus"></i>
              <span>معرفی عضو</span>
            </a>
          </li>
          <li>
            <a asp-action="Index" asp-controller="Introduce" asp-area="Job" class="waves-effect">
              <i class="fa fa-users"></i>
              <span>معرفی شدگان توسط من</span>
            </a>
          </li>
          <li>
            <a onclick="openChangePasswordModal('@auth?.AuthUserId')" class="waves-effect">
              <i class="fa fa-key"></i>
              <span>تغییر کلمه رمز</span>
            </a>
          </li>

          <li>
            <a href="#" class="waves-effect">
              <i class="fa fa-diagnoses"></i>
              <span>گزارشات کارت های من</span>
            </a>
            <ul class="list-unstyled">
              <li>
                <a href="#">افرادی که از طریق اُکاپیا خرید کرده اند</a>
              </li>
              <li>
                <a href="#">فروش من از طریق اُکاپیا</a>
              </li>
              <li>
                <a href="#">نفراتی که عضو کرده ام</a>
              </li>
              <li>
                <a href="#">کل سود به ازای همه کارت ها من</a>
              </li>
            </ul>
          </li>

          <li>
            <a href="#" class="waves-effect">
              <i class="md md-home"></i>
              <span>گزارشات کارت های معرفی شده من</span>
            </a>
            <ul class="list-unstyled">
              <li>
                <a href="#">لیست کارتهای معرفی شده من</a>
              </li>
              <li>
                <a href="#">کل سود به ازای اشخاص معرفی شده</a>
              </li>
              <li>
                <a href="#">فهرست تراکنش های هر کارت معرفی شده</a>
              </li>
              <li>
                <a href="#">گزارش سود های دریافتی بر اساس اشخاص</a>
              </li>
            </ul>
          </li>
          <li>
            <a asp-action="Index" asp-controller="Home" asp-area="" class="waves-effect">
              <i class="fa fa-home"></i><span> بازگشت به سایت </span>
            </a>
          </li>
          <li>
            <a asp-action="Logout" asp-controller="Account" asp-area="" class="waves-effect">
              <i class="fa fa-sign-out"></i>
              <span>خروج</span>
            </a>
          </li>
        </ul>

      </div>
      <div class="clearfix"></div>
    </div>
  </div>
</div>

<div id="changePasswordDiv">

</div>

<script>
  function openChangePasswordModal(id) {
    openModalWithData(`@Url.Action("ChnagePassword", "Account", new {area = ""})/${id}`,
      'changePasswordDiv',
      'changePasswordModal');
  }
</script>